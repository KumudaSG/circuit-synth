# Manual Test Steps for Connection Changes

## Prerequisites
- KiCad installed and configured
- Circuit Synth environment set up
- Initial circuit generated by running `python circuit.py`

## Test Procedure

### Step 1: Generate Initial Series Circuit
```bash
cd tests/functional_tests/test_03_change_connections
python circuit.py
```

This creates a KiCad project with two resistors in series:
- R1: VCC → OUT
- R2: OUT → GND

### Step 2: Open in KiCad and Change to Parallel
1. Open KiCad
2. Open the project file: `test_03_project/test_03_project.kicad_pro`
3. Open the schematic editor
4. You should see R1 and R2 connected in series with an OUT net between them

**Manual Changes:**
1. Delete the wire connecting R1 pin 2 to R2 pin 1 (the OUT net)
2. Delete the OUT net label if present
3. Connect R1 pin 2 directly to GND
4. Connect R2 pin 1 directly to VCC
5. Save the schematic (Ctrl+S)

The resistors are now in parallel configuration.

### Step 3: Import Back to Python
```bash
# Run the KiCad to Python sync command
python -m circuit_synth.scripts.sync_from_kicad \
    --kicad-project test_03_project/ \
    --circuit-synth . \
    --output parallel_circuit.py
```

### Step 4: Verify the Import
1. Open `parallel_circuit.py`
2. Verify that:
   - Both R1 and R2 connect pin 1 to VCC
   - Both R1 and R2 connect pin 2 to GND
   - The OUT net is no longer present

### Step 5: Change Back to Series in Python
1. Edit `parallel_circuit.py` to change back to series:
   - Add an OUT net
   - Change R1 pin 2 to connect to OUT
   - Change R2 pin 1 to connect to OUT

### Step 6: Re-export to KiCad
```bash
python parallel_circuit.py
```

### Step 7: Verify in KiCad
1. Re-open the schematic in KiCad
2. Verify the resistors are back in series configuration
3. Verify the OUT net is present

## Expected Results
- ✓ Connection changes in KiCad are correctly imported to Python
- ✓ Connection changes in Python are correctly exported to KiCad
- ✓ Net additions/removals are handled properly
- ✓ Component properties (values, footprints) are preserved

## Troubleshooting
- If sync_from_kicad is not implemented, manually create the expected Python files
- Check the console output for any error messages
- Verify file paths are correct